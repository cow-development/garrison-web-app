<div class="container">
  <div class="title">
    <img
      draggable="false"
      src="../../../../../../../../assets/img/ornamental/register.png">
    <div class="text">
      <h2>Register</h2>
      <ng-container *ngIf="records.length > 0; else noRecordTitle">
        <h4>{{ records.length }} garrison records</h4>
      </ng-container>
      <ng-template #noRecordTitle>
        <h4>All your garrison records</h4>
      </ng-template>
    </div>
  </div>
  <div class="separation"></div>
  <div class="content">
    <ng-container *ngIf="records.length > 0; else noRecordContent">
      <div
      class="element"
      *ngFor="let record of records">
        <div class="entity">
          <ng-container [ngSwitch]="record.entity">
            <ng-container *ngSwitchCase="'building'">
              <!-- <ng-container *ngIf="record.action === 'instantiation'">
                <img
                  draggable="false"
                  src="../../../../../../../../assets/img/ornamental/building-construction.png">
              </ng-container>
              <ng-container *ngIf="record.action === 'improvement'">
                <img
                  draggable="false"
                  src="../../../../../../../../assets/img/ornamental/building-improvement.png">
              </ng-container>
              <ng-container *ngIf="record.action === 'cancelation'">
                <img
                  draggable="false"
                  src="../../../../../../../../assets/img/ornamental/cancelation-construction.png">
              </ng-container> -->
              <div class="text">
                <h5>
                  {{ 
                    buildings
                    | fetch_by_code
                    : record.code
                    | fetch_appropriate_word
                    : character.side.faction
                    | string_capitalize
                  }}
                </h5>
                <p class="type">
                  {{ record.action | string_capitalize }}
                </p>
                <p class="moment">
                  {{ 
                    record.moment
                    | date
                    : 'medium'
                  }}
                </p>
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'research'">
              <!-- <ng-container *ngIf="record.action === 'instantiation'">
                <img
                  draggable="false"
                  src="../../../../../../../../assets/img/ornamental/research-launching.png">
              </ng-container>
              <ng-container *ngIf="record.action === 'cancelation'">
                <img src="../../../../../../../../assets/img/ornamental/cancelation-research.png">
              </ng-container> -->
              <div class="text">
                <h5>
                  {{ 
                    researches
                    | fetch_by_code
                    : record.code
                    | fetch_appropriate_word
                    : character.side.faction
                    | string_capitalize
                  }}
                </h5>
                <p class="type">
                  {{ record.action | string_capitalize }}
                </p>
                <p class="moment">
                  {{ 
                    record.moment
                    | date
                    : 'medium'
                  }}
                </p>
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'unit'">
              <!-- <ng-container *ngIf="record.action === 'instantiation'">
                <img
                  draggable="false"
                  src="../../../../../../../../assets/img/ornamental/unit-training.png">
              </ng-container>
              <ng-container *ngIf="record.action === 'cancelation'">
                <img
                  draggable="false"
                  src="../../../../../../../../assets/img/ornamental/cancelation-training.png">
              </ng-container> -->
              <div class="text">
                <h5>
                  {{ 
                    units
                    | fetch_by_code
                    : record.code
                    | fetch_appropriate_word
                    : character.side.faction
                    | string_capitalize
                  }}
                </h5>
                <p class="type">
                  {{ record.action | string_capitalize }}
                </p>
                <p class="moment">
                  {{ 
                    record.moment
                    | date
                    : 'medium'
                  }}
                </p>
              </div>
            </ng-container>
          </ng-container>
        </div>
        <div class="resources">
          <ng-container *ngIf="record.resources?.gold as gold">
            <div class="element">
              <div class="img">
                <svg height="22pt" viewBox="0 0 128 128" width="22pt" xmlns="http://www.w3.org/2000/svg">
                  <g>
                    <path d="m20.875 57.235v12.8c0 3.535 13.152 6.4 29.375 6.4s29.375-2.867 29.375-6.4v-12.8z" fill="#fca40b" />
                    <ellipse cx="50.25" cy="57.235" fill="#fccf23" rx="29.375" ry="6.402" />
                    <path d="m48.375 76.2v12.8c0 3.536 13.152 6.4 29.375 6.4s29.375-2.866 29.375-6.4v-12.8z" fill="#fca40b" />
                    <ellipse cx="77.75" cy="76.197" fill="#fccf23" rx="29.375" ry="6.402" />
                    <path d="m34.625 39v12.8c0 3.535 13.152 6.4 29.375 6.4s29.375-2.866 29.375-6.4v-12.8z" fill="#fca40b" />
                    <ellipse cx="64" cy="39" fill="#fccf23" rx="29.375" ry="6.402" />
                  </g>
                </svg>
              </div>
              <div class="amount">
                <p [ngClass]="gold < 0 ? 'cost' : 'refund'">
                  {{ gold }}
                </p>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="record.resources?.wood as wood">
            <div class="element">
              <div class="img">
                <svg id="Capa_1" enable-background="new 0 0 497 497" height="22pt" viewBox="0 0 497 497" width="22pt"
                xmlns="http://www.w3.org/2000/svg">
                <g>
                  <path d="m361 248.499-150.5 22.5-100.5-22.5s-50 0-50-68 50-68 50-68h251z" fill="#ab7b64" />
                  <path
                    d="m361 236.139v12.36l-144.865 15.665-106.135-15.665s-23.99 0-38.73-22.61c8.26 2.61 14.49 2.61 14.49 2.61h236.23c9.53 5.11 20.43 8 32.01 8 2.36 0 4.7-.12 7-.36z"
                    fill="#9a6a53" />
                  <path d="m166 163.999h-104.89c.79-5.58 1.99-10.56 3.49-15h101.4c4.14 0 7.5 3.36 7.5 7.5s-3.36 7.5-7.5 7.5z"
                    fill="#ab7b64" />
                  <path
                    d="m214.5 204.499c0 4.14-3.36 7.5-7.5 7.5h-142.4c-1.5-4.44-2.7-9.42-3.49-15h145.89c4.14 0 7.5 3.36 7.5 7.5z"
                    fill="#ab7b64" />
                  <path
                    d="m244.5 156.499c0 4.14-3.36 7.5-7.5 7.5h-30c-4.14 0-7.5-3.36-7.5-7.5s3.36-7.5 7.5-7.5h30c4.14 0 7.5 3.36 7.5 7.5z"
                    fill="#ab7b64" />
                  <path
                    d="m302.5 204.499c0 4.14-3.36 7.5-7.5 7.5h-40c-4.14 0-7.5-3.36-7.5-7.5s3.36-7.5 7.5-7.5h40c4.14 0 7.5 3.36 7.5 7.5z"
                    fill="#ab7b64" />
                  <g>
                    <path
                      d="m173.5 156.499c0 4.14-3.36 7.5-7.5 7.5h-104.89c.79-5.58 1.99-10.56 3.49-15h101.4c4.14 0 7.5 3.36 7.5 7.5z"
                      fill="#9a6a53" />
                  </g>
                  <g>
                    <path
                      d="m244.5 156.499c0 4.14-3.36 7.5-7.5 7.5h-30c-4.14 0-7.5-3.36-7.5-7.5s3.36-7.5 7.5-7.5h30c4.14 0 7.5 3.36 7.5 7.5z"
                      fill="#9a6a53" />
                  </g>
                  <g>
                    <path
                      d="m214.5 204.499c0 4.14-3.36 7.5-7.5 7.5h-142.4c-1.5-4.44-2.7-9.42-3.49-15h145.89c4.14 0 7.5 3.36 7.5 7.5z"
                      fill="#9a6a53" />
                  </g>
                  <g>
                    <path d="m315 211.999h-60c-4.14 0-7.5-3.36-7.5-7.5s3.36-7.5 7.5-7.5h50 .02z" fill="#9a6a53" />
                  </g>
                  <circle cx="361" cy="180.499" fill="#f3d69e" r="68" />
                  <path
                    d="m429 180.499c0 37.56-30.44 68-68 68-18.35 0-35-7.27-47.23-19.09 10.69 7.01 23.48 11.09 37.23 11.09 37.56 0 68-30.44 68-68 0-19.21-7.96-36.56-20.77-48.91 18.53 12.15 30.77 33.1 30.77 56.91z"
                    fill="#efcb83" />
                  <g>
                    <path
                      d="m326.764 204.471c-2.789 0-5.466-1.562-6.76-4.241-2.988-6.188-4.504-12.827-4.504-19.73 0-25.089 20.411-45.5 45.5-45.5 4.143 0 7.5 3.357 7.5 7.5s-3.357 7.5-7.5 7.5c-16.817 0-30.5 13.683-30.5 30.5 0 4.626 1.014 9.07 3.012 13.209 1.801 3.729.237 8.214-3.493 10.015-1.051.507-2.163.747-3.255.747z"
                      fill="#edc472" />
                  </g>
                  <g>
                    <path
                      d="m361 225.999c-4.781 0-9.497-.743-14.018-2.21-3.94-1.277-6.099-5.508-4.82-9.447 1.278-3.942 5.511-6.103 9.447-4.82 3.024.98 6.184 1.478 9.391 1.478 16.817 0 30.5-13.683 30.5-30.5 0-4.143 3.357-7.5 7.5-7.5s7.5 3.357 7.5 7.5c0 25.088-20.411 45.499-45.5 45.499z"
                      fill="#edc472" />
                  </g>
                  <path d="m293 384.499h-243s-50 1.184-50-67.408 50-68.592 50-68.592h243z" fill="#ab7b64" />
                  <path d="m293 364.499v20h-243s-22.63.53-37.44-20z" fill="#9a6a53" />
                  <g fill="#ab7b64">
                    <path
                      d="m52.89 297.999h-51.41c.94-5.61 2.29-10.59 3.95-15h47.46c4.14 0 7.5 3.36 7.5 7.5s-3.36 7.5-7.5 7.5z" />
                    <path
                      d="m101.5 341.499c0 4.14-3.36 7.5-7.5 7.5h-89.32c-1.51-4.43-2.72-9.4-3.53-15h92.85c4.14 0 7.5 3.36 7.5 7.5z" />
                    <path
                      d="m236.5 341.499c0 4.14-3.36 7.5-7.5 7.5h-55c-4.14 0-7.5-3.36-7.5-7.5s3.36-7.5 7.5-7.5h55c4.14 0 7.5 3.36 7.5 7.5z" />
                    <path
                      d="m230 297.999h-110c-4.14 0-7.5-3.36-7.5-7.5s3.36-7.5 7.5-7.5h110c4.14 0 7.5 3.36 7.5 7.5s-3.36 7.5-7.5 7.5z" />
                    <path d="m429 248.499h-140.479v136l141.607-.016z" />
                  </g>
                  <path d="m430.13 384.479-137.13.02v-20l136.96-.02z" fill="#9a6a53" />
                  <circle cx="429" cy="316.499" fill="#f3d69e" r="68" />
                  <g>
                    <path
                      d="m417.912 360.351c-.727 0-1.465-.106-2.195-.33-18.969-5.799-32.217-23.695-32.217-43.521 0-15.906 8.111-30.398 21.696-38.766 3.526-2.172 8.147-1.075 10.319 2.452 2.173 3.527 1.074 8.147-2.452 10.319-9.119 5.616-14.563 15.334-14.563 25.994 0 13.291 8.883 25.289 21.602 29.178 3.962 1.211 6.191 5.403 4.979 9.364-.987 3.231-3.958 5.31-7.169 5.31z"
                      fill="#edc472" />
                  </g>
                  <g>
                    <path
                      d="m452.034 354.208c-2.258 0-4.489-1.015-5.965-2.946-2.516-3.291-1.886-7.998 1.405-10.513 7.643-5.84 12.025-14.679 12.025-24.25 0-10.132-5.035-19.586-13.47-25.288-3.431-2.319-4.332-6.982-2.012-10.414 2.32-3.43 6.982-4.333 10.414-2.012 12.565 8.495 20.067 22.594 20.067 37.714 0 14.284-6.531 27.468-17.918 36.168-1.357 1.039-2.958 1.541-4.546 1.541z"
                      fill="#edc472" />
                  </g>
                  <g>
                    <path
                      d="m237.5 290.499c0 4.14-3.36 7.5-7.5 7.5h-110c-4.14 0-7.5-3.36-7.5-7.5s3.36-7.5 7.5-7.5h110c4.14 0 7.5 3.36 7.5 7.5z"
                      fill="#9a6a53" />
                  </g>
                  <g>
                    <path
                      d="m60.39 290.499c0 4.14-3.36 7.5-7.5 7.5h-51.41c.94-5.61 2.29-10.59 3.95-15h47.46c4.14 0 7.5 3.36 7.5 7.5z"
                      fill="#9a6a53" />
                  </g>
                  <g>
                    <path
                      d="m101.5 341.499c0 4.14-3.36 7.5-7.5 7.5h-89.32c-1.51-4.43-2.72-9.4-3.53-15h92.85c4.14 0 7.5 3.36 7.5 7.5z"
                      fill="#9a6a53" />
                  </g>
                  <g>
                    <path
                      d="m236.5 341.499c0 4.14-3.36 7.5-7.5 7.5h-55c-4.14 0-7.5-3.36-7.5-7.5s3.36-7.5 7.5-7.5h55c4.14 0 7.5 3.36 7.5 7.5z"
                      fill="#9a6a53" />
                  </g>
                  <circle cx="293" cy="316.499" fill="#f3d69e" r="68" />
                  <g>
                    <path
                      d="m273.419 356.561c-1.32 0-2.655-.348-3.868-1.079-13.602-8.207-22.051-23.145-22.051-38.982 0-7.144 1.708-14.271 4.94-20.611 1.881-3.688 6.4-5.157 10.088-3.275 3.69 1.881 5.157 6.397 3.275 10.088-2.192 4.301-3.304 8.943-3.304 13.799 0 10.775 5.533 20.547 14.801 26.139 3.546 2.141 4.687 6.75 2.547 10.297-1.409 2.332-3.887 3.624-6.428 3.624z"
                      fill="#edc472" />
                  </g>
                  <g>
                    <path
                      d="m307.78 359.01c-2.921 0-5.697-1.717-6.908-4.576-1.616-3.813.165-8.216 3.979-9.832 11.328-4.799 18.648-15.83 18.648-28.103 0-16.817-13.683-30.5-30.5-30.5-4.143 0-7.5-3.357-7.5-7.5s3.357-7.5 7.5-7.5c25.089 0 45.5 20.411 45.5 45.5 0 18.308-10.911 34.761-27.797 41.914-.954.406-1.946.597-2.922.597z"
                      fill="#edc472" />
                  </g>
                  <path
                    d="m497 316.499c0 37.56-30.44 68-68 68-27.58 0-51.32-16.41-61.99-40 12.36 16.97 32.38 28 54.99 28 37.56 0 68-30.44 68-68 0-9.98-2.15-19.45-6.01-27.99 8.19 11.22 13.01 25.04 13.01 39.99z"
                    fill="#efcb83" />
                  <path
                    d="m361 316.499c0 5.03-.55 9.92-1.58 14.64-6.69 30.52-33.89 53.36-66.42 53.36-27.58 0-51.32-16.41-61.99-40 12.36 16.97 32.38 28 54.99 28 37.56 0 68-30.44 68-68 0-9.98-2.15-19.45-6.01-27.99 3.02 4.12 5.57 8.6 7.59 13.35 3.49 8.18 5.42 17.18 5.42 26.64z"
                    fill="#efcb83" />
                </g>
                </svg>
              </div>
              <div class="amount">
                <p [ngClass]="wood < 0 ? 'cost' : 'refund'">
                  {{ wood }}
                </p>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="record.resources?.food as food">
            <div class="element">
              <div class="img">
                <svg height="22pt" viewBox="0 -69 512.00056 512" width="22pt" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="m511.992188 141.082031h-511.992188v76.675781c0 61.105469 40.054688 117.410157 101.683594 135.316407 100.957031 29.332031 207.675781 29.332031 308.628906 0 58.898438-17.109375 98.074219-69.28125 101.441406-127.203125zm0 0"
                    fill="#b2785b" />
                  <path
                    d="m0 141.082031v76.675781c0 61.105469 40.054688 117.414063 101.683594 135.316407 72.300781 21.007812 147.554687 26.96875 221.53125 17.886719 7.085937-36.351563-7.195313-75.835938-7.195313-75.835938v-154.042969zm0 0"
                    fill="#935b45" />
                  <path
                    d="m0 141.082031c0-113.894531 104.777344-111.835937 180.351562-93.097656 58.9375 14.609375 101.808594-27.972656 151.296876-42.347656 74.769531-21.726563 152.992187 21.277343 174.714843 96.050781 21.726563 74.769531-21.28125 152.992188-96.050781 174.714844-100.953125 29.328125-207.671875 29.328125-308.625 0-61.632812-17.90625-101.6875-74.214844-101.6875-135.320313zm0 0"
                    fill="#fce6d4" />
                  <path
                    d="m180.367188 47.988281c-75.574219-18.738281-180.367188-20.792969-180.367188 93.105469 0 61.105469 40.054688 117.410156 101.683594 135.316406 69.957031 20.324219 142.679687 26.554688 214.335937 18.710938-54.734375-87.230469-152.609375-56.816406-180.863281-137.664063-31.488281-90.101562 45.210938-109.46875 45.210938-109.46875zm0 0"
                    fill="#efd4bf" />
                  <path
                    d="m256 256.105469c-165.152344 0-213.703125-71.441407-213.703125-115.023438 0-8.648437 0-63.53125 66.308594-60.484375 17.992187.828125 84.570312 12.6875 96.109375 12.6875 39.066406 0 70.769531-15.78125 98.742187-29.710937 14.148438-7.046875 46.550781-21.28125 67.589844-21.28125 43.582031 0 82.523437 29.277343 94.703125 71.191406 7.355469 25.316406 4.410156 51.976563-8.289062 75.078125-12.699219 23.097656-68.65625 67.542969-201.460938 67.542969zm0 0"
                    fill="#f2b4b1" />
                  <path
                    d="m416.988281 139.878906c0 23.207032-18.8125 42.019532-42.019531 42.019532-23.203125 0-42.015625-18.8125-42.015625-42.019532 0-23.203125 18.8125-42.015625 42.015625-42.015625 23.207031 0 42.019531 18.8125 42.019531 42.015625zm0 0"
                    fill="#fff" />
                  <path
                    d="m135.15625 157.445312c-11.6875-33.441406-8.46875-57.128906.195312-73.710937-11.445312-1.632813-21.3125-2.886719-26.746093-3.136719-66.308594-3.046875-66.308594 51.835938-66.308594 60.484375 0 43.582031 48.550781 115.023438 213.703125 115.023438 8.175781 0 16.046875-.167969 23.644531-.492188-54.109375-40.078125-121.78125-33.1875-144.488281-98.167969zm0 0"
                    fill="#eaa2a2" />
                </svg>
              </div>
              <div class="amount">
                <p [ngClass]="food < 0 ? 'cost' : 'refund'">
                  {{ food }}
                </p>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="record.resources?.plot as plot">
            <div class="element">
              <div class="img">
                <svg id="Capa_1" enable-background="new 0 0 497.137 497.137" height="22pt" viewBox="0 0 497.137 497.137"
                  width="22pt" xmlns="http://www.w3.org/2000/svg">
                  <g>
                    <g>
                      <path d="m343.289 304.218 102.359-255.169-29.026-12.264-107.278 267.433z" fill="#e3b783" />
                    </g>
                    <g>
                      <path
                        d="m345.822 331.863-36.53-2.055-19.805-21.748 7.088-16.774c2.217-5.247 8.268-7.703 13.514-5.486l37.335 15.775c5.247 2.217 7.703 8.268 5.486 13.514z"
                        fill="#c8c3ca" />
                    </g>
                    <g>
                      <path
                        d="m327.94 446.965-36.053 21.268c-23.283 13.734-53.253 1.579-60.392-24.493l-11.523-42.089c-2.43-8.877-1.804-18.314 1.778-26.792l28.404-67.223c3.207-7.59 11.959-11.143 19.549-7.936l95.903 40.522c7.59 3.207 11.143 11.959 7.936 19.549l-28.661 67.833c-3.424 8.103-9.363 14.891-16.941 19.361z"
                        fill="#8c818f" />
                    </g>
                    <g>
                      <path
                        d="m365.606 340.222-95.903-40.522c-7.59-3.207-16.342.346-19.549 7.936l-2.323 5.498 87.776 37.088c7.59 3.207 11.143 11.959 7.936 19.549l-28.661 67.833c-3.424 8.103-9.363 14.891-16.94 19.361l-28.7 16.93c7.607.351 15.446-1.415 22.647-5.662l36.053-21.268c7.577-4.47 13.516-11.258 16.94-19.361l28.661-67.833c3.206-7.59-.347-16.342-7.937-19.549z"
                        fill="#766d78" />
                    </g>
                    <g>
                      <path
                        d="m408.713 8.678 2.588-6.124c.898-2.126 3.35-3.122 5.476-2.223l55.983 23.654c2.126.898 3.121 3.35 2.223 5.476l-2.588 6.124c-7.43 17.585-27.71 25.818-45.295 18.387-17.585-7.429-25.817-27.708-18.387-45.294z"
                        fill="#e3e0e4" />
                    </g>
                    <g>
                      <path
                        d="m433.174 497.137c4.644 0 8.074-4.479 6.698-8.914-5.011-16.145-20.058-27.871-37.852-27.871-7.894 0-15.243 2.317-21.421 6.294-7.961-18.943-26.689-32.247-48.525-32.247-8.303 0-16.154 1.93-23.137 5.355-9.069-33.798-39.912-58.683-76.572-58.683-38.231 0-70.139 27.062-77.62 63.074-8.603-6.129-19.12-9.746-30.487-9.746-20.855 0-38.875 12.134-47.388 29.727-5.124-2.417-10.846-3.774-16.887-3.774-17.793 0-32.84 11.726-37.852 27.871-1.377 4.435 2.054 8.914 6.698 8.914z"
                        fill="#cf9875" />
                    </g>
                    <g>
                      <path
                        d="m439.871 488.223c-5.011-16.145-20.058-27.871-37.852-27.871-7.894 0-15.243 2.317-21.421 6.294-7.961-18.943-26.689-32.247-48.525-32.247-8.304 0-16.154 1.93-23.137 5.355-9.069-33.798-39.912-58.683-76.572-58.683-22.792 0-43.334 9.622-57.796 25.022 8.651-3.24 18.014-5.022 27.796-5.022 28.396 0 53.302 14.93 67.302 37.367 6.503 10.421 18.024 16.488 30.298 16.002.7-.028 1.403-.042 2.11-.042 15.013 0 28.555 6.288 38.141 16.374 7.037 7.405 17.265 10.942 27.418 9.82 1.44-.159 2.904-.241 4.387-.241 13.38 0 25.205 6.632 32.38 16.785h28.774c4.644.001 8.074-4.478 6.697-8.913z"
                        fill="#c7865b" />
                    </g>
                  </g>
                </svg>
              </div>
              <div class="amount">
                <p [ngClass]="plot < 0 ? 'cost' : 'refund'">
                  {{ plot }}
                </p>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </ng-container>
    <ng-template #noRecordContent>
      <p class="no-record">No record to display</p>
    </ng-template>
  </div>
</div>
